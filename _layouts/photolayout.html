---
layout: compress
---

{% include base_path %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  {% include head.html %}
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
        background: var(--global-bg-color);
        color: var(--global-text-color);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        }

    .wrapper {
      width: min(3000px, 100%);
      padding: 3rem 1rem 5rem;
    }

    h2 {
      text-align: center;
      letter-spacing: 0.15em;
      font-size: clamp(1.8rem, 3vw, 2.4rem);
      margin-bottom: 2.5rem;
    }

    .work-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 24px;
      align-items: start;
    }

    .work-item {
      align-self: start;
      border-radius: 0px;
      overflow: hidden;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.6);
    }

    .work-item img {
      width: 100%;
      height: auto;
      display: block;
      cursor: zoom-in;
    }

    @media (max-width: 1000px) {
      .work-grid {
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      }
    }

    @media (max-width: 1000px) {
      .work-grid {
        grid-template-columns: 1fr;
      }
    }

    .lightbox {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      background: rgba(0,0,0,0.85);
      z-index: 9999;
    }

    .lightbox.open {
      display: flex;
    }

    .lightbox__inner {
      position: relative;
      width: 70vw;
      height: 70vh;
      max-width: 94vw;
      max-height: 86vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 8px;
      transition: width 220ms ease, height 220ms ease;
    }

    .lightbox__img {
      max-width: 100%;
      max-height: 100%;
      width: auto;
      height: auto;
      object-fit: contain;
      box-shadow: 0 20px 60px rgba(0,0,0,0.6);
      transition: opacity 220ms ease, transform 220ms ease;
    }

    .lightbox__frame {
      width: 130%;
      height: 130%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .lightbox__btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0,0,0,0.45);
      color: #fff;
      border: none;
      padding: 12px 14px;
      cursor: pointer;
      font-size: 20px;
    }

    .lightbox__prev { left: -50px; }
    .lightbox__next { right: -50px; }

    .lightbox__close {
        position: fixed; 
        top: 13px;
        right: 20px;
        background: transparent;
        color: #fff;
        font-size: 28px;  
         cursor: pointer;
        z-index: 100000;   
        border: none;
        padding: 0;
    }

    .lightbox__counter {
      position: absolute;
      top: 16px;
      left: 20px;
      color: #ddd;
      font-size: 16px;
      background: rgba(0,0,0,0.35);
      padding: 6px 10px;
      border-radius: 6px;
    }
  </style>
</head>
<body>

  {% include browser-upgrade.html %}
  {% include masthead.html %}

  <div class="wrapper">
    <h2>Photo Gallery</h2>

    <div class="work-grid">

      {% comment %}
      Get all static files under /images/Photography/,
      then group by FULL PATH so each path is only used once.
      {% endcomment %}

      {% assign photos = site.static_files
        | where_exp: "f", "f.path contains '/images/Photography/'"
        | sort: "path" %}

      {% assign grouped_by_path = photos | group_by: "path" %}

      {% for group in grouped_by_path %}
        {% assign file = group.items[0] %}
        <figure class="work-item">
          <img src="{{ base_path }}{{ file.path }}" alt="Photo {{ forloop.index }}">
        </figure>
      {% endfor %}

    </div>
  </div>

  <div class="page__footer">
    <footer>
      {% include footer/custom.html %}
      {% include footer.html %}
    </footer>
  </div>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <button class="lightbox__close" id="lightboxClose" aria-label="Close">✕</button>
    <div class="lightbox__counter" id="lightboxCounter"></div>
    <div class="lightbox__inner">
      <button class="lightbox__btn lightbox__prev" id="lightboxPrev">◀</button>
      <div class="lightbox__frame">
        <img src="" class="lightbox__img" id="lightboxImg">
      </div>
      <button class="lightbox__btn lightbox__next" id="lightboxNext">▶</button>
    </div>
  </div>

  {% include scripts.html %}

  <script>
    (function(){
      var lightbox = document.getElementById('lightbox');
      var imgEl = document.getElementById('lightboxImg');
      var prevBtn = document.getElementById('lightboxPrev');
      var nextBtn = document.getElementById('lightboxNext');
      var closeBtn = document.getElementById('lightboxClose');
      var counter = document.getElementById('lightboxCounter');

      var items = [];
      var current = 0;

      function gather() {
        items = Array.from(document.querySelectorAll('.work-item img'))
          .map(function(i){ return i.getAttribute('src'); });
      }

      function openAt(index){
        if(!items.length) gather();
        current = (index + items.length) % items.length;
        imgEl.style.opacity = 0;
        imgEl.onload = function(){
          imgEl.style.opacity = 1;
        };
        imgEl.src = items[current];

        lightbox.classList.add('open');
        lightbox.setAttribute('aria-hidden','false');
        counter.textContent = (current + 1) + ' / ' + items.length;
        document.body.style.overflow = 'hidden';
      }

      function close(){
        lightbox.classList.remove('open');
        lightbox.setAttribute('aria-hidden','true');
        document.body.style.overflow = '';
      }

      function prev(){ openAt(current - 1); }
      function next(){ openAt(current + 1); }

      document.addEventListener('DOMContentLoaded', function(){
        gather();
        var thumbs = document.querySelectorAll('.work-item img');
        thumbs.forEach(function(img, idx){
          img.addEventListener('click', function(e){
            e.preventDefault();
            openAt(idx);
          });
        });

        lightbox.addEventListener('click', function(e){
          if(e.target === lightbox) close();
        });

        prevBtn.addEventListener('click', function(e){ e.stopPropagation(); prev(); });
        nextBtn.addEventListener('click', function(e){ e.stopPropagation(); next(); });
        closeBtn.addEventListener('click', function(e){ e.stopPropagation(); close(); });

        document.addEventListener('keydown', function(e){
          if(lightbox.classList.contains('open')){
            if(e.key === 'Escape') close();
            else if(e.key === 'ArrowLeft') prev();
            else if(e.key === 'ArrowRight') next();
          }
        });
      });
    })();
  </script>

</body>
</html>
